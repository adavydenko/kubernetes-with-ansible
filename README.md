# Kubernetes –∫–ª–∞—Å—Ç–µ—Ä —Å Ansible, MetalLB, Local Storage –∏ Monitoring

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç Ansible —Ä–æ–ª–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –∏ –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è Kubernetes.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kubernetes-with-ansible/
‚îú‚îÄ‚îÄ ansible/                          # üöÄ Ansible –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ playbooks/                    # Playbooks –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ site.yml                  # –û—Å–Ω–æ–≤–Ω–æ–π playbook
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ site_gpu_nodes.yml        # GPU playbook
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inventory.yml             # –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —Ö–æ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ roles/                        # Ansible —Ä–æ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kubernetes_master/        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ master —É–∑–ª–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kubernetes_worker/        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ worker —É–∑–ª–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ kubernetes_network/        # –°–µ—Ç–µ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (Flannel)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metallb/                  # MetalLB Load Balancer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage/                  # Local Storage Provisioner
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ monitoring/               # Prometheus + Grafana
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ demo_app/                 # –î–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ scripts/                      # –°–∫—Ä–∏–ø—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ examples/                     # –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ docs/                            # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ getting-started/              # –ë—ã—Å—Ç—Ä—ã–µ —Å—Ç–∞—Ä—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ deployment/                   # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
‚îÇ   ‚îú‚îÄ‚îÄ components/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ metallb/                  # MetalLB –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ storage/                  # Local Storage –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ monitoring/               # Monitoring –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gpu/                      # GPU –ø–æ–¥–¥–µ—Ä–∂–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ learning/                     # –£—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ theory/                       # –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ reference/                    # –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îî‚îÄ‚îÄ README.md                         # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible
sudo apt update && sudo apt install ansible -y

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd kubernetes-with-ansible

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π
ssh-keygen -t rsa -b 4096 -C "ansible@control"
ssh-copy-id user@10.0.2.5  # master
ssh-copy-id user@10.0.2.6  # worker-01
ssh-copy-id user@10.0.2.7  # worker-02
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ inventory

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `ansible/playbooks/inventory.yml`:

```yaml
all:
  children:
    master_nodes:
      hosts:
        kube-master:
          ansible_host: 10.0.2.5
          ansible_user: your_username
    worker_nodes:
      hosts:
        kube-worker-01:
          ansible_host: 10.0.2.6
          ansible_user: your_username
        kube-worker-02:
          ansible_host: 10.0.2.7
          ansible_user: your_username
```

### 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞

```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é ansible
cd ansible

# –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ —Å MetalLB, Local Storage –∏ Monitoring
ansible-playbook -i playbooks/inventory.yml playbooks/site.yml
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ master —É–∑–ª—É
ssh user@10.0.2.5

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞
kubectl get nodes
kubectl get pods --all-namespaces

# –ü—Ä–æ–≤–µ—Ä–∫–∞ MetalLB
kubectl get pods -n metallb-system

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
kubectl get service -n demo
curl http://10.0.2.240
```

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
   - Control Node: Ubuntu Desktop 24.10 (2GB RAM, 20GB –¥–∏—Å–∫–∞)
   - Master Node: Ubuntu Server 24.04 LTS (4GB RAM, 30GB –¥–∏—Å–∫–∞)
   - Worker Nodes: Ubuntu Server 24.04 LTS (4GB RAM, 30GB –¥–∏—Å–∫–∞ –∫–∞–∂–¥—ã–π)
   - –í—Å–µ —É–∑–ª—ã –≤ –æ–¥–Ω–æ–π L2 —Å–µ—Ç–∏

2. **–°–µ—Ç–µ–≤–∞—è —Å—Ö–µ–º–∞:**
   ```
   Control Node:    10.0.2.15
   Master Node:     10.0.2.5
   Worker Node 1:   10.0.2.6
   Worker Node 2:   10.0.2.7
   ...
   MetalLB Pool:    10.0.2.240 - 10.0.2.250
   ```

3. **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ:**
   - Ansible 2.14+
   - SSH –¥–æ—Å—Ç—É–ø –º–µ–∂–¥—É –≤—Å–µ–º–∏ —É–∑–ª–∞–º–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π

–ú—ã —Å–æ–∑–¥–∞–µ–º 2 –≥—Ä—É–ø–ø—ã —Ä–µ—Å—É—Ä—Å–æ–≤:
1. **–£–ø—Ä–∞–≤–ª—è—é—â–∏–π –∫–æ–Ω—Ç—É—Ä (control node)** - –º–∞—à–∏–Ω–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Ansible
2. **K8s –∫–æ–Ω—Ç—É—Ä** - –º–∞—Å—Ç–µ—Ä –∏ —Ä–∞–±–æ—á–∏–µ –Ω–æ–¥—ã Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞

Control node –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤—Å–µ—Ö —É–∑–ª–æ–≤ k8s –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å–∞–º–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞.

### VMs

–°–ª–µ–¥—É—é—â–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞:

| –£–∑–µ–ª           | IP –∞–¥—Ä–µ—Å  | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                                                             |
|----------------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| control        | 10.0.2.15 | –£–ø—Ä–∞–≤–ª—è—é—â–∞—è –í–ú, —Å —ç—Ç–æ–π –º–∞—à–∏–Ω—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è ansible —Å–∫—Ä–∏–ø—Ç—ã –∏ —Ä–∞—Å–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã —Å —ç—Ç–æ–π –º–∞—à–∏–Ω—ã –±—ã–ª ssh –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω |
| kube-master    | 10.0.2.5  | master-–Ω–æ–¥–∞ k8s –∫–ª–∞—Å—Ç–µ—Ä–∞                                                                                                                                                             |
| kube-worker-01 | 10.0.2.6  | –ù–æ–¥—ã –∏—Å–ø–æ–ª–Ω—è—é—â–∏–µ —Ä–∞–±–æ—á—É—é –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä–µ                                                                                                                                        |
| kube-worker-02 | 10.0.2.7  |                                                                                                                                                                                      |
| ...            | ...       | ...                                                                                                                                                                                  |

> **–í–∞–∂–Ω–æ:** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–º–µ–Ω–∏—Ç—å IP –∞–¥—Ä–µ—Å–∞ –Ω–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∞–¥—Ä–µ—Å–∞ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏

### –ü—Ä–µ—Ä–µ–∫–≤–µ–∑–∏—Ç—ã (nodes)

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

- [ ] –ù–∞ kube-* —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ Ubuntu Server 24 —Å –µ–¥–∏–Ω–æ–≥–æ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞
- [ ] –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã/–Ω–æ–¥—ã:
```bash
sudo apt update -y && sudo apt upgrade -y
```
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ ssh –≤–∫–ª—é—á–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
sudo apt install openssh-server
```
- [ ] –ê –ø–æ—Ä—Ç 22 –æ—Ç–∫—Ä—ã—Ç
```bash
ss -tulpn | grep 22
```
- [ ] –ù–∞ –≤—Å–µ—Ö –Ω–æ–¥–∞—Ö –∑–∞–≤–µ–¥–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è ssh —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü—Ä–µ—Ä–µ–∫–≤–µ–∑–∏—Ç—ã (Ansible host)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ Ansible. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–¥–µ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –Ω–æ–¥—É –≤–Ω–µ –∫–ª–∞—Å—Ç–µ—Ä–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω Ansible.

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Ansible –Ω–∞ control node:
```bash
sudo apt install ansible -y
```
- [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π –¥–ª—è –±–µ—Å–ø–∞—Ä–æ–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:
```bash
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
ssh-copy-id your_privileged_user@your_master_node_ip_address
ssh-copy-id your_privileged_user@your_worker_node_ip_address
```

## üîß Ansible —Ä–æ–ª–∏

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ–º–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ —Å–æ–∑–¥–∞–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ä–æ–ª—å:

### kubernetes_master
–†–æ–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ master-–Ω–æ–¥—ã Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞. –í–∫–ª—é—á–∞–µ—Ç:
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É containerd
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Kubernetes (kubeadm, kubelet, kubectl)
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é control plane
- –ù–∞—Å—Ç—Ä–æ–π–∫—É —Å–µ—Ç–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### kubernetes_worker
–†–æ–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ worker-–Ω–æ–¥ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞. –í–∫–ª—é—á–∞–µ—Ç:
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É containerd
- –£—Å—Ç–∞–Ω–æ–≤–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ Kubernetes
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
- –ù–∞—Å—Ç—Ä–æ–π–∫—É —Å–µ—Ç–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### kubernetes_network
–†–æ–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ Flannel. –í–∫–ª—é—á–∞–µ—Ç:
- –£—Å—Ç–∞–Ω–æ–≤–∫—É Flannel CNI
- –ù–∞—Å—Ç—Ä–æ–π–∫—É pod network CIDR
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### metallb
–†–æ–ª—å –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MetalLB load balancer. –í–∫–ª—é—á–∞–µ—Ç:
- –£—Å—Ç–∞–Ω–æ–≤–∫—É MetalLB –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫—É IP address pools
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Layer 2 advertisement
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### storage
–†–æ–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Local Storage Provisioner - –ø—Ä–æ—Å—Ç–æ–≥–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ NFS. –í–∫–ª—é—á–∞–µ—Ç:
- Local Storage Provisioner —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º —Ç–æ–º–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ StorageClass –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–º–∞–º–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫—É –ø—É—Ç–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞ worker —É–∑–ª–∞—Ö
- –í—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### monitoring
–†–æ–ª—å –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Prometheus + Grafana. –í–∫–ª—é—á–∞–µ—Ç:
- Prometheus –¥–ª—è —Å–±–æ—Ä–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫
- Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–∞—à–±–æ—Ä–¥–æ–≤
- Node Exporter –¥–ª—è –º–µ—Ç—Ä–∏–∫ —É–∑–ª–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫—É –∞–ª–µ—Ä—Ç–æ–≤ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### demo_app
–†–æ–ª—å –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è MetalLB. –í–∫–ª—é—á–∞–µ—Ç:
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ nginx –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ LoadBalancer —Å–µ—Ä–≤–∏—Å–∞
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é —Ä–∞–±–æ—Ç—ã –≤–Ω–µ—à–Ω–µ–≥–æ IP

## üéØ –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç—Å—è –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### ‚úÖ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä
- Master —É–∑–µ–ª —Å control plane
- Worker —É–∑–ª—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏
- Flannel CNI –¥–ª—è —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Kubernetes —Ä–∞–±–æ—Ç–∞—é—Ç

### ‚úÖ MetalLB Load Balancer
- MetalLB —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ namespace `metallb-system`
- IP –ø—É–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω: `10.0.2.240-10.0.2.250`
- Layer 2 advertisement –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –ì–æ—Ç–æ–≤ –∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –≤–Ω–µ—à–Ω–∏—Ö IP

### ‚úÖ Local Storage
- Local Storage Provisioner —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- StorageClass —Å–æ–∑–¥–∞–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–æ–º–∞–º–∏
- PersistentVolumes –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### ‚úÖ Monitoring
- Prometheus —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- Grafana —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- Node Exporter —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —É–∑–ª–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∞–ª–µ—Ä—Ç–æ–≤

### ‚úÖ –î–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- Nginx —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç —Å 3 —Ä–µ–ø–ª–∏–∫–∞–º–∏
- LoadBalancer —Å–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω
- –í–Ω–µ—à–Ω–∏–π IP –Ω–∞–∑–Ω–∞—á–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∏–∑–≤–Ω–µ –∫–ª–∞—Å—Ç–µ—Ä–∞

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–∑–ª–æ–≤
kubectl get nodes

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–¥–æ–≤
kubectl get pods --all-namespaces

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
kubectl get services --all-namespaces
```

### –°–æ–∑–¥–∞–Ω–∏–µ LoadBalancer —Å–µ—Ä–≤–∏—Å–∞
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ deployment
kubectl create deployment my-app --image=nginx

# –°–æ–∑–¥–∞–Ω–∏–µ LoadBalancer —Å–µ—Ä–≤–∏—Å–∞
kubectl expose deployment my-app --port=80 --type=LoadBalancer

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ IP
kubectl get service my-app
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü–µ—Ä–µ—Ö–æ–¥ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é ansible
cd ansible

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω
./scripts/validate-vm-setup.sh

# –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞ MetalLB
./scripts/test-metallb.sh

# –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞ Local Storage
./scripts/test-local-storage.sh

# –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∞ Monitoring
./scripts/test-monitoring.sh
```

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –£–∑–ª—ã –Ω–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ join –∫–æ–º–∞–Ω–¥—ã –Ω–∞ master
kubeadm token create --print-join-command

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ kubelet –Ω–∞ worker
sudo journalctl -u kubelet -f
```

### –ü—Ä–æ–±–ª–µ–º–∞: MetalLB –Ω–µ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç IP
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ MetalLB
kubectl logs -n metallb-system -l app=metallb -c controller
kubectl logs -n metallb-system -l app=metallb -c speaker
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–æ–≤ Flannel
kubectl get pods -n kube-flannel

# –¢–µ—Å—Ç —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
ping 10.0.2.5  # —Å worker –Ω–∞ master
```

## üéì –û–±—É—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞, –Ω–æ –∏ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è Kubernetes. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docs/learning/` –¥–ª—è:

- –ò–∑—É—á–µ–Ω–∏—è —Ç–µ–æ—Ä–∏–∏ Kubernetes
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–≤–æ–∏—Ö –∑–Ω–∞–Ω–∏–π —Å –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üéØ –ë—ã—Å—Ç—Ä—ã–µ —Å—Ç–∞—Ä—Ç—ã
- **[QUICK_START.md](docs/getting-started/QUICK_START.md)** - –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞
- **[VM_QUICK_START.md](docs/getting-started/VM_QUICK_START.md)** - –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω
- **[QUICK_START_LOCAL_STORAGE.md](docs/getting-started/QUICK_START_LOCAL_STORAGE.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Local Storage
- **[QUICK_START_MONITORING.md](docs/getting-started/QUICK_START_MONITORING.md)** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **[QUICK_START_NVIDIA_MONITORING.md](docs/getting-started/QUICK_START_NVIDIA_MONITORING.md)** - GPU –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### üõ† –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- **[DEPLOYMENT_GUIDE.md](docs/deployment/DEPLOYMENT_GUIDE.md)** - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- **[VM_SETUP_CHECKLIST.md](docs/deployment/VM_SETUP_CHECKLIST.md)** - –ß–µ–∫-–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω
- **[VIRTUALBOX_SETUP_GUIDE.md](docs/deployment/VIRTUALBOX_SETUP_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ VirtualBox

### üîß –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **[MetalLB](docs/components/metallb/)** - Load Balancer –¥–ª—è bare metal
- **[Local Storage](docs/components/storage/)** - –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **[Monitoring](docs/components/monitoring/)** - Prometheus + Grafana
- **[GPU Support](docs/components/gpu/)** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GPU —É–∑–ª–æ–≤

### üéì –£—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- **[LEARNING_GUIDE.md](docs/learning/LEARNING_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ —É—á–µ–±–Ω–æ–µ –ø–æ—Å–æ–±–∏–µ
- **[EXERCISES.md](docs/learning/EXERCISES.md)** - –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- **[EXERCISES_6.1.md](docs/learning/EXERCISES_6.1.md)** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ RBAC
- **[EXERCISES_6.2.md](docs/learning/EXERCISES_6.2.md)** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º
- **[EXERCISES_6.3.md](docs/learning/EXERCISES_6.3.md)** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ GitOps
- **[PROGRESS_CHECKLISTS.md](docs/learning/PROGRESS_CHECKLISTS.md)** - –ß–µ–∫-–ª–∏—Å—Ç—ã –¥–ª—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∏
- **[FINAL_CHECKLIST.md](docs/learning/FINAL_CHECKLIST.md)** - –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç
- **[QUIZ.md](docs/learning/QUIZ.md)** - –¢–µ—Å—Ç –∑–Ω–∞–Ω–∏–π

### üìñ –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- **[K8S.md](docs/theory/K8S.md)** - –û—Å–Ω–æ–≤—ã Kubernetes
- **[K8S_LINUX.md](docs/theory/K8S_LINUX.md)** - Kubernetes –Ω–∞ Linux
- **[K8S_ORCHESTRATION.md](docs/theory/K8S_ORCHESTRATION.md)** - –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤ Kubernetes
- **[GLOSSARY.md](docs/theory/GLOSSARY.md)** - –ì–ª–æ—Å—Å–∞—Ä–∏–π —Ç–µ—Ä–º–∏–Ω–æ–≤

### üìã –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- **[RESOURCES.md](docs/reference/RESOURCES.md)** - –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- **[VERSIONING.md](docs/reference/VERSIONING.md)** - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- **[DIAGRAMS.md](docs/reference/DIAGRAMS.md)** - –î–∏–∞–≥—Ä–∞–º–º—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **[STUDY_GUIDE_OVERVIEW.md](docs/STUDY_GUIDE_OVERVIEW.md)** - –û–±–∑–æ—Ä —É—á–µ–±–Ω–æ–≥–æ –ø–æ—Å–æ–±–∏—è

## üéÆ GPU Support

NVidia provides support for cuda playbooks: https://github.com/NVIDIA/ansible-role-nvidia-driver

### 1. Install CUDA ansible playbook
```bash
ansible-galaxy install nvidia.nvidia_driver
ansible-playbook -i playbooks/inventory.yml playbooks/site_gpu_nodes.yml -K
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `docs/`
2. –ò–∑—É—á–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫" –≤—ã—à–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Kubernetes Documentation](https://kubernetes.io/docs/)
- [MetalLB Documentation](https://metallb.universe.tf/)
- [Ansible Documentation](https://docs.ansible.com/)
- [Prometheus Documentation](https://prometheus.io/docs/)
- [Grafana Documentation](https://grafana.com/docs/)

---

**–£–¥–∞—á–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è Kubernetes! üöÄ**